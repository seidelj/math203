\documentclass{tufte-book}

\usepackage{amsmath, amsthm}
\usepackage{graphicx}
\setkeys{Gin}{width=\linewidth,totalheight=\textheight,keepaspectratio}
\graphicspath{{graphics/}}

\title{Real Analysis\\Sixth Week }
\author{Joe Seidel}
\date{\today}

\usepackage{booktabs}
\usepackage{units}
\usepackage{fancyvrb}
\fvset{fontsize=\normalsize}
\usepackage{multicol}
\usepackage{lipsum}
\usepackage{pdfpages}
\usepackage{tikz}
\usepackage{wasysym}
\usepackage{amssymb}

\newcommand{\doccmd}[1]{\texttt{\textbackslash#1}}% command name -- adds backslash automatically
\newcommand{\docopt}[1]{\ensuremath{\langle}\textrm{\textit{#1}}\ensuremath{\rangle}}% optional command argument
\newcommand{\docarg}[1]{\textrm{\textit{#1}}}% (required) command argument
\newenvironment{docspec}{\begin{quote}\noindent}{\end{quote}}% command specification environment
\newcommand{\docenv}[1]{\textsf{#1}}% environment name
\newcommand{\docpkg}[1]{\texttt{#1}}% package name
\newcommand{\doccls}[1]{\texttt{#1}}% document class name
\newcommand{\docclsopt}[1]{\texttt{#1}}% document class option name
\DeclareMathOperator{\proj}{proj}
\newcommand{\vct}{\mathbf}


\newcommand{\dprod}[2]{\langle #1, #2 \rangle}

\newtheoremstyle{mytheoremstyle} % name
	{\topsep}		% Space above
	{\topsep}		% Space below
	{\itshape}		% Body font
	{}			% Indent amount
	{\bfseries}	% Theorem head font
	{\textnormal{:}}	% Punctuation after theorem head
	{.5em}		% Space after theorem head
	{}			%Theorem headspec 
\theoremstyle{mytheoremstyle}
\newtheorem*{thm}{Thm.}

\newtheoremstyle{mylemstyle} % name
	{\topsep}		% Space above
	{\topsep}		% Space below
	{\itshape}		% Body font
	{}			% Indent amount
	{\bfseries}	% Theorem head font
	{\textnormal{:}}	% Punctuation after theorem head
	{.5em}		% Space after theorem head
	{}			%Theorem headspec 
\theoremstyle{mylemstyle}
\newtheorem*{lem}{Lem.}


\newtheoremstyle{mydefstyle} % name
	{\topsep}		% Space above
	{\topsep}		% Space below
	{\normalfont}	% Body font
	{}			% Indent amount
	{\bfseries}	% Theorem head font
	{\textnormal{:}}	% Punctuation after theorem head
	{.5em}		% Space after theorem head
	{}			%Theorem headspec 
\theoremstyle{mydefstyle}
\newtheorem*{mydef}{Def.}
\newtheorem*{ex}{E.g.}

\begin{document}

\maketitle
\pagenumbering{gobble}
\newpage
\pagenumbering{arabic}

\subsection{Exercise 3.4.8}
Prove that a subset $Y$ of a complete metric space $X$ is also complete metric space with the inherited metric if and only if $Y$ is closed as a subset of $X$.

\begin{proof}"$\Rightarrow$"\\
Suppose $Y$ is closed. Let $(y_n)$ be a a Cauchy sequence in $Y$.  Since $Y \subset X$, $(y_n)$ is a Cauchy sequence in $X$.  Since $X$ is complete, $(y_n)$ converges to $y$ for some $y \in X$.  Since $Y$ is closed, $y \in Y$, hence $Y$ is complete.\\
"$\Leftarrow$" Let $Y$ be a complete metric space and suppose $Y$ is open.  Then a Cauchy sequence $(y_n) \in Y$ converges to $y \not\in Y$, but this contradicts that $Y$ is complete, so $Y$ is closed.

\end{proof}

\subsection{Exercise 3.4.9}
Show that, for $1 \leq p \leq \infty$, the space $\ell_n^p(\mathbb{R})$ and $\ell_n^p(\mathbb{C})$ are complete metric spaces.

\begin{proof}
Suppose that $(x_k)_{k=1}^\infty$ is a sequence of points where $x_k = (x_{1_{k}}, x_{2_{k}},...,x_{n_{k}})$ in $\mathbb{R}$ that is Cauchy with respect to $\|\cdot\|$, defined as $\|x\|=(\sum_{k=1}^n |x_k|^p)^\frac{1}{p}$.  Since for $1 \leq p < \infty$ for every $x \in \mathbb{R}$ $\|x\|_\infty \leq \|x\|_p \leq n^\frac{1}{p}\|x\|_\infty$, implies $|x_{i_j} - x_{i_k}| \leq \|x_j - x_k\|_p$.

Therefore, each coordinate sequence $(x_{i_k})_{k=1}^\infty$ is Cauchy in $\mathbb{R}$.  Since $\mathbb{R}$ is complete, $\lim_{k \to \infty}x_{i_k} = x_i$ for some $x_i \in \mathbb{R}$.

Let $x = (x_1, x_2,...,x_n)$, then
\[ \|x_k - x\|_p \leq C max\{|x_{i_k} - x_i|:i=1,2,...,n\} \]
where $C=n^\frac{1}{p}$ if $1 \leq p < \infty$ or $C=1$ if $p = \infty$.  Given $\epsilon >0$ chose $N_i \in \mathbb{N}$ such that $|x_{i_k} - x_i| < \frac{\epsilon}{C}$ for all $k > N_i$.  Let $N=max{N_1, N_2,...N_n}$, then $k>N$ implies that $\|x_k-x\| < \epsilon$ which proves that $\lim_{k \to \infty}x_k = x$ in $\ell_p^n(\mathbb{R})$ making this space complete.

The same proof works for $\mathbb{C}$.
\end{proof}

\textit{scratch work} \marginnote{Grader, please disregard}\\
Define $\|x\|_p = (\sum_{k=1}^n |x_k|^p)^\frac{1}{p}$ and let $V$ be a vector space in $\mathbb{R}^n or \mathbb{C}^n$.

Let the set $\{e_i\}_{i=1}^n$ be a base for $V$.  Recall that that norms for $1 \leq p \leq \infty$ are equivalent on finite dimensional spaces, therefore we can choose $p=1$ and completeness is preserved on these equivalent norms.

We can choose $L,M>0 \in \mathbb{R}$ or $\mathbb{C}$ Such that $L\|w\| \leq \|w\| \leq M\|w\|$ for all $w \in V$.  This implies, $\forall \epsilon >0$ there exists $N \in \mathbb{N}$ such that if $n,m > N$
\begin{align*}
L|v_{n_{i}} - v_{k_{i}}| &\leq L \sum_{i=1}^n|v_{n_{i}} - v_{k_{i}}|\\
&= L\|v_n - v_m\| \leq \|v_n - v_m\|< \epsilon
\end{align*}
for all $1 \leq i \leq n$.  Hence, $(v_{k_{i}})$ is a Cauchy sequence in $\mathbb{R}$ or $\mathbb{C}$ for each $i$.  Since $\mathbb{R}$ and $\mathbb{C}$ are complete, there exists $u_i \in \mathbb{R}$ or $\mathbb{C}$ such that $u_i = \lim_{k \to \infty}v_{k_{i}}$ for each $i$.
Let $u=(u_1,...,u_n) = \sum_{i=1}^n u_ie_i$ which means that $u \in V$.  Finally, to show completeness, need to show $\lim_{k \to \infty}\|v_k - u\| = 0$.

\begin{align*}
\lim_{k \to \infty}\|v_k - u\| &\leq M \lim_{k \to \infty}\|v_k - u\|\\
&= M \lim_{k \to \infty} \sum_{i=1}^n|v_{k_{i}} - u_i| \\
&= M \sum_{i=1}^n \lim_{k \to \infty} |v_{k_{i}} - u_i| \\
&= 0
\end{align*}


\subsection{Exercise 3.4.18}
For the following sequences $(f_n)_{n \in \mathbb{N}}$ of functions, where $f_n:[0,2\pi] \rightarrow \mathbb{R}$ for all $n \in \mathbb{N}$, find all values of $x \in [0, 2\pi]$ such that the sequence $(f_n(x))_{n \in \mathbb{N}}$ converges and find the pointwise limit function $f: [0,2\pi] \rightarrow \mathbb{R}$ if it exists.

\begin{enumerate}

\item $f_n(x) = \sin(\frac{x}{n})$\\
Since $1 \leq n$ this function is always defined.  For all values $x \in [0,2\pi]$ the sequence $(f_n(x))_{n \in \mathbb{N}}$ converges to $0$ so $f:[0,2\pi] \rightarrow \mathbb{R}$ is given by $f(x) = 0$.

\item $f_n(x) = \sin(nx)$.\\
Since the $\sin$ function oscillates between $-1$ and $1$.  Consider $f_n(x) = 1$ when $n < \frac{\pi}{2x}$ and again when $2\pi(x) < n < \frac{5\pi}{2x}$ and so forth. Consider when $f_n(x) = 0$,  when $\frac{\pi}{2x}<n<\frac{\pi}{x}$ and again  when $\frac{3\pi}{2x} < n < \frac{2\pi}{x}$ and so forth.  Next, when $(f_n(x) = -1$ whenever $\frac{\pi}{x}<n<\frac{3\pi}{2x}$ and again $3\pi < n < \frac{7\pi}{2}$ and so forth.

There are no values in the domain $[0, 2\pi]$ such that $(f_n(x))_{n \in \mathbb{N}}$ converges.  Hence, the pointwise limit function does not exist.

\item $f_n(x) = \sin^n(x)$.
\[f_n(x) = 
\begin{cases}
      0, & \text{if}\ x \neq \frac{3\pi}{2} \text{ and } x\neq \frac{\pi}{2} \\
      1, & \text{if}\ x = \frac{\pi}{2}\\
      -1 \text{ or } 1, & \text{if}\ x = \frac{3\pi}{2}\\
\end{cases}
\]
Since the sequence does not converge when $x = \frac{3\pi}{2}$ we cannot define $f: [0,2\pi] \rightarrow \mathbb{R}$ as the point wise limit function of $f_n(x)$.

\end{enumerate}

\subsection{Exercise 3.4.22}
Let $f_n(x) = x^n$ for $n \in \mathbb{N}$.

\begin{enumerate}

\item Show that the sequence $(f_n)_{n \in \mathbb{N}}$ converges pointwise to the function $f(x) = 0$ on the interval $(-1,1)$.

When $0 < x < 1$, this implies $x = \frac{1}{a}$ where $a > 1$ which implies $\lim_{n \to \infty} x^n = \lim_{n \to \infty} \frac{1}{a^n} = 0$.  When $-1 < x < 0$, it implies $x=(-1)\frac{1}{a}$ where $a > 1$ which means $(-1)\lim_{n \to \infty}\frac{1}{a^n} = 0$.  When $x=0$, $\lim_{n \to \infty} x^n = 0$. 

Therefore all values in the domain $(-1,1)$, $\lim_{n \to \infty}f_n(x) = f(x)$.

\item Show that if we restrict to the domain $[-\frac{1}{2}, \frac{1}{2}]$, the sequence $f(n)_{n \in \mathbb{N}}$ converges uniformly to the function $f(x) = 0$.

\begin{proof}
A sequence converges uniformly to a function if given $\epsilon >0$, $\exists N_\epsilon \in \mathbb{N}$ such that $\sup_{x \in X}|f_n(x) - f(x)| < \epsilon$ for $n \geq N_\epsilon$.

Since $f(x) = 0$, $|f_n(x) - f(x)| = |x^n| < \epsilon$ if $x < \epsilon^\frac{1}{n}$.  Since $\epsilon^\frac{1}{n} < 1$ for all $n$ the sequence converges uniformly for the domain $[-\frac{1}{2}, \frac{1}{2}]$.
\end{proof}

\item Show that the sequence $(f_n)_{n \in \mathbb{N}}$ does not converge uniformly on the domain $(-1,1)$.

\begin{proof}
Consider again, the expression from above, $|f_n(x) - f(x)| = |x^n| < \epsilon$.  The inequality $x < \epsilon^\frac{1}{n}$ fails when $x$ gets within $\epsilon$ of $1$.  To see this, we can choose $x \in (-1,1)$ such that $1-\epsilon = x$. Notice that $1-\epsilon < \epsilon^\frac{1}{n}$ is clearly false.  Therefore, $(f_n)_{n \in \mathbb{N}}$ does not converge uniformly.
\end{proof}

\end{enumerate}


\subsection{Exercise 3.5.2}
Suppose that $X$ and $X'$ are metric spaces as above and that $x_0 \in X$. Show that $f$ is continuous at $x_0$ iff for every sequence $(x_n)_{n \in \mathbb{N}}$ in $X$ which converges to $x_0$ in $X$ we have
\[\lim_{n \to \infty}f(x_n) = f(x_0) \]
in $X'$.

\begin{proof}"$\Rightarrow$"\\
Suppose $f: X \rightarrow X'$ is continuous at $x_0 \in X$.  Let $\epsilon > 0$ and supposed $\nexists \delta>0$ such that $d(x, x_0) < \delta$ implies $d'(f(x), f(x_0)) < \epsilon$ and prove by contradiction.\\
Let $d = (\frac{1}{n})$ for any $n \in \mathbb{N}$ , then there is an $x_n \in B_\frac{1}{n}(x_0)$ for which $f(x_n) \not\in B_\epsilon(f(x_0))$.  Therefore there is a sequence $\{x_n\}$ that converges to $x_0$  but the sequence $\{f(x_n)\}$ does not converge to $f(x_0)$, contradicting the assumption that $f$ is continuous. \\
"$\Leftarrow$"
Assume that $\forall \epsilon > 0$, $\exists \delta >0$ such that $x \in B_\delta(x_0)$ implies $f(x) \in B_\epsilon(f(x_0))$.  Let $\{x_n\} \in X$ be a sequence that converges to $x_0$.  In order to show that $\{f(x_n)\} \in X'$ converges to $f(x_0)$, let $\epsilon >0$.  Therefore $\exists \delta >0$ for which $x \in B_\delta(x_0)$ implies $f(x) \in B_\epsilon(f(x_0))$.

Since $\{x_n\}$ converges to $x_0$ we can choose $n_0 \in \mathbb{N}$ such that for $n > n_0$, $x_n \in B_\delta(x_0)$, but then $n > n_0$ implies $f(x_n) \in B_\epsilon(f(x_0))$ i.e. $\{f(x_n)\}$ converges to $f(x_0)$ in $X'$.  Therefore $f$ is continuous at $x_0$.
\end{proof}

\subsection{Exercise 3.5.3}
Let $f: \mathbb{R} \rightarrow \mathbb{R}$ be a polynomial function, where $\mathbb{R}$ is the usual metric.  Show that $f$ is continuous.

\begin{proof}
First, note that for a linear function $f(x) = \alpha x + \beta$, we can choose $\alpha$ and $\beta$ such that the $\lim_{x \to x_0} f(x) = x_0$ is continuous.  Second, through repeated application of the produce rule for limits of functions, $\forall n \in \mathbb{N}$, $\lim_{x \to x_0} x^n = x_0^n$.

Now observe $f(x) = A_nx^n + A_{n-1}x^{n-1}+...+A_0$.  Using algebraic limit laws and the two facts above, notice
\begin{align*}
\lim_{x \to x_0} f(x) &= \lim_{x \to x_0}  A_nx^n + A_{n-1}x^{n-1}+...+A_0\\
&=  \lim_{x \to x_0} A_nx^n + \lim_{x \to x_0} A_{n-1}x^{n-1}+...+\lim_{x \to x_0} A_0\\
&= \lim_{x \to x_0} A_n (\lim_{x \to x_0}x^n) + \lim_{x \to x_0} A_{n-1} (\lim_{x \to x_0}x^{n-1})+...+\lim_{x \to x_0} A_0\\
&= A_nx_0^n + A_{n-1}x_0^{n-1}+...+A_0\\
&= f(x_0)\\
\end{align*}

Hence for a polynomial function $f: \mathbb{R} \rightarrow \mathbb{R}$, we have $\lim_{x \to x_0} f(x) = f(x_0)$ which implies continuity.
\end{proof}


\subsection{Exercise 3.5.4}
Define $f: \mathbb{R} \rightarrow \mathbb{R}$ by 

\[f(x) = 
\begin{cases}
      \frac{1}{q},  & \text{if}\ x = \frac{p}{q} \text{ (reduced to lowest terms,  } x \neq 0 \text{)} \\
      0, & \text{if}\ x = 0 \text{ or } x \not\in \mathbb{Q}\\
\end{cases}
\]
Show that $f$ is continuous at $0$ and any irrational point.  Show that $f$ is not continuous at any nonzero rational point.

To see why $f$ is continuous at $0$ and any irrational point, let $X$ be $\{x \in \mathbb{R} | x =0 \text{ or } x \in R \setminus \mathbb{Q}\}$.  Choose any $x_0 \in X$, want to show that $\forall \epsilon >0$, $\exists \delta > 0$ such that $d(x, x_0) < \delta$ implies $d(f(x), f(x_0)) < \epsilon$.  Since we are in in $\mathbb{R}$, define distance to be $|x - y|$ for $x, y \in \mathbb{R}$.

For any range of length $1$, in particular, consider $[x_0-\frac{1}{q}, x_0+\frac{1}{q})$, $f(x)$ takes the values of $\frac{1}{q}$, $q -1$ times.  We can remove these points up to $\frac{1}{\epsilon}$. and have removed only finitely many points.  What's left is points $f(x) < \frac{1}{\frac{1}{\epsilon}} \leq \epsilon$.  Since $x_0$ is irrational or $0$, it was not a point removed.  So we can form an open ball $B_\delta(x_0)$ that does not contain any rational points, with $\delta >0$ small enough.  This $\delta$ implies continuity.

To show discontinuity at any nonzero rational point, consider $0 < \epsilon < \frac{1}{q}$.  and any $\delta > 0$.  Since $\mathbb{R}$ is dense in $\mathbb{Q}$ ,there are irrational numbers $y$ such that $|x-y| < \delta$, but then $|f(x) - f(y)| = \frac{1}{q} > \epsilon$.  So $f$ is discontinuous $\forall x \in \mathbb{Q}$, $x \neq 0$.

\end{document}
\grid